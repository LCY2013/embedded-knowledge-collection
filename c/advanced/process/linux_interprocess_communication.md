# 进程间通信(Linux Interprocess Communication)

## 早期的UNIX进程间通信方式 

### 1. 无名管道(Pipe)
无名管道特点：
- 只能用于具有亲缘关系的进程间通信，一般是父子进程或者兄弟进程间通信
- 单工通信，只能用于单向通信，具有固定的读端和写端，如果需要双向通信，需要建立两个管道
- 无名管道创建时会返回两个文件描述符，一个用于读，一个用于写，如果不需要读或者写，需要将其关闭，否则会造成资源浪费
- 只能在具有公共祖先的进程间使用，因为管道的实质是一块内核缓冲区，而该缓冲区的描述符是存放在父进程的内核栈中的，所以只能在具有公共祖先的进程间使用

无名管道的创建：
```c
#include <unistd.h>

int pipe(int fd[2]);
```
- 成功返回0，失败返回EOF
- fd[0]用于读，fd[1]用于写
- 无名管道的读写端都是阻塞的，如果读端没有数据，读端会阻塞，如果写端缓冲区满了，写端会阻塞
- 无名管道如果写端关闭，读端会读到EOF，如果读端关闭，写端会收到SIGPIPE信号，建议写端关闭

### 2. 有名管道(FIFO)
有名管道特点：
- 有名管道可以用于任意进程间通信，只要知道管道的名字(对应管道文件)
- 打开管道时可指定读写模式
- 通过文件IO操作，内容存在在内存中
- 不管是无名管道还是有名管道，只要读写两端都关闭了，那么资源就会被回收
- 有名管道的读写端都是阻塞的，如果读端没有数据，读端会阻塞，如果写端缓冲区满了，写端会阻塞

有名管道的创建：
```c
#include <unistd.h>
#include <fcntl.h>

int mkfifo(const char *pathname, mode_t mode);
```
- 成功返回0，失败返回EOF
- pathname参数指定管道的名字，对应管道文件
- mode参数指定管道的读写模式，如：0666，只有读写模式都打开，才能进行读写操作

### 3. 信号(Signal)

## System V IPC

## 4. 消息队列(Message Queue)

## 5. 共享内存(Shared Memory)

## 6. 信号量集(Semaphore set)

## POSIX IPC

## 7. 套接字(Socket)













